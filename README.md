# aspz-lab7
ТВ-31 Троцюк Андрій

17 Варіант

Задача 1

Використайте popen(), щоб передати вивід команди rwho (команда UNIX) до more (команда UNIX) у програмі на C.

Результат:
![image](https://github.com/user-attachments/assets/70103ad4-9bf0-48c0-9142-6db4d655116b)
![image](https://github.com/user-attachments/assets/9a92d817-7b0a-4223-b37c-e846cef8fb58)



Я написав програму на C, яка за допомогою popen() виконує команду rwho | more. Програма відкриває пайп, передає вивід команди rwho у more, зчитує результат і виводить його на екран посторінково. Спочатку виникла помилка доступу, оскільки rwho потребує прав адміністратора для доступу до /var/spool/rwho, тому я запустив програму з sudo, після чого вона успішно показала список користувачів, які підключені до системи.

Задача 2

 Напишіть програму мовою C, яка імітує команду ls -l в UNIX — виводить список усіх файлів у поточному каталозі та перелічує права доступу тощо.
 (Варіант вирішення, що просто виконує ls -l із вашої програми, — не підходить.)

Результат:

![image](https://github.com/user-attachments/assets/cfe95491-868b-4a4f-92c8-80749be4c733)
![image](https://github.com/user-attachments/assets/63ec1334-ca3b-4e8d-b181-23824ddd78ac)


Я написав програму на C, яка імітує команду ls -l в UNIX. Програма виводить інформацію про файли в поточному каталозі, зокрема права доступу, розмір, дату останньої модифікації та інші деталі. Для цього я використав системні виклики для отримання метаданих файлів, таких як stat, getpwuid та getgrgid

Задача 3

 Напишіть програму, яка друкує рядки з файлу, що містять слово, передане як аргумент програми (проста версія утиліти grep в UNIX).
 
Результат:

![image](https://github.com/user-attachments/assets/6eb4cdf8-5cb4-4751-8e92-bf1f9d28060b)
![image](https://github.com/user-attachments/assets/d2421c28-bb33-4294-93cc-42a9d841aa42)
![image](https://github.com/user-attachments/assets/8209eea4-2c26-4079-a2bc-d6987cbe7e69)


Я написав просту версію команди grep на C, програма приймає назву файлу та слово як аргументи, читає файл построчно та виводить лише ті рядки, які містять задане слово.

Задача 4

 Напишіть програму, яка виводить список файлів, заданих у вигляді аргументів, з зупинкою кожні 20 рядків, доки не буде натиснута клавіша (спрощена версія утиліти more в UNIX).
 
Результат:

![image](https://github.com/user-attachments/assets/5f83da76-5441-4a3b-bc38-235827b475d0)
![image](https://github.com/user-attachments/assets/0e7bad2e-566f-4d4c-be72-59e580423f5c)
![image](https://github.com/user-attachments/assets/0f8013af-e1db-47be-9051-cbe7b10e8820)
![image](https://github.com/user-attachments/assets/61830d3b-4936-485e-99e8-4662903efac9)
![image](https://github.com/user-attachments/assets/6c684a4b-39ce-489c-b165-f5f6d10b0118)


Я написав програму на C, яка імітує утиліту more. Вона приймає один або кілька файлів як аргументи, читає їх построково і виводить по 20 рядків за раз. Після кожних 20 рядків програма чекає на натискання клавіші Enter для продовження

Задача 5

 Напишіть програму, яка перелічує всі файли в поточному каталозі та всі файли в підкаталогах.
 
Результат:

![image](https://github.com/user-attachments/assets/00bb1f11-a674-4c83-9d99-5bb6d9f40dc2)
![image](https://github.com/user-attachments/assets/c81958cd-cff1-431d-80d8-8866a86450a2)
![image](https://github.com/user-attachments/assets/9761f5e7-89d7-4d1b-a206-b0ae66f91e6d)


Я написав програму на C, яка рекурсивно перелічує всі файли в поточному каталозі та всіх підкаталогах. Я використав функції з бібліотеки dirent.h для обробки каталогів і функцію stat() для перевірки типу файлів. Програма виводить повні шляхи до всіх звичайних файлів, ігноруючи каталоги та спеціальні елементи (. і ..). Рекурсивно обробляються всі підкаталоги, щоб знайти файли всіх рівнів вкладеності.

Задача 6

 Напишіть програму, яка перелічує лише підкаталоги у алфавітному порядку.

Результат:

![image](https://github.com/user-attachments/assets/90ede480-71fb-41bd-8741-872cac5849c4)
![image](https://github.com/user-attachments/assets/cdf99ef2-3919-4a37-a11f-540ba85dc01a)


Я написав програму на C, яка перелічує всі підкаталоги в поточному каталозі в алфавітному порядку. Для цього я використовував функції для роботи з каталогами: opendir(), readdir(), та closedir(). Програма перевіряє, чи є елемент підкаталогом, і зберігає їх у масив, який потім сортується за допомогою qsort(). Наприкінці програма виводить підкаталоги в алфавітному порядку.

Задача 7

 Напишіть програму, яка показує користувачу всі його/її вихідні програми на C, а потім в інтерактивному режимі запитує, чи потрібно надати іншим дозвіл на читання (read permission); у разі ствердної відповіді — такий дозвіл повинен бути наданий.
 
Результат:

![image](https://github.com/user-attachments/assets/6de54580-3adf-4c70-94ea-66eacd15cf69)

![image](https://github.com/user-attachments/assets/4665d373-8d71-4ddb-aac5-841cc99ad1d5)

Я написав програму на C, яка знаходить усі .c файли в поточному каталозі та пропонує користувачеві дозволити право на читання для інших. Для кожного файлу програма запитує y/n і залежно від відповіді або додає відповідні права за допомогою chmod, або залишає файл без змін.

Задача 8

 Напишіть програму, яка надає користувачу можливість видалити будь-який або всі файли у поточному робочому каталозі. Має з’являтися ім’я файлу з запитом, чи слід його видалити.

Результат:

![image](https://github.com/user-attachments/assets/579b9c4a-a7fe-4be6-8264-176f86c29de9)
![image](https://github.com/user-attachments/assets/b2119d83-9d41-4137-9d26-ef26a758b4fb)


Я написав програму на C, яка переглядає всі файли в поточному каталозі та пропонує користувачу для кожного видалити його чи ні. Ім’я файлу виводиться з запитом, і якщо користувач підтверджує, то файл видаляється. Це я реалізував за допомогою opendir, readdir, remove.

Задача 9
 
 Напишіть програму на C, яка вимірює час виконання фрагмента коду в мілісекундах.

Результат:

![image](https://github.com/user-attachments/assets/27af2669-102b-4cee-a865-45f347929421)
![image](https://github.com/user-attachments/assets/9a2a5628-08a6-4dca-aead-e522c3841fe7)


Я написав програму на C, яка вимірює час виконання фрагмента коду в мілісекундах. Для цього я використовував функцію gettimeofday(), яка дозволяє отримати точний час до та після виконання частини коду. В результаті програма виводить час виконання у мілісекундах, що дає можливість оцінити продуктивність обчислень. Для тестування я використав цикл з 100 мільйонами ітерацій, щоб мати відчутний час виконання.

Задача 10
 
 Напишіть програму мовою C для створення послідовності випадкових чисел з плаваючою комою у діапазонах:
 (a) від 0.0 до 1.0
 (b) від 0.0 до n, де n — будь-яке дійсне число з плаваючою точкою.
 Початкове значення генератора випадкових чисел має бути встановлене так, щоб гарантувати унікальну послідовність.
Примітка: використання прапорця -Wall під час компіляції є обов’язковим.

Результат:

![image](https://github.com/user-attachments/assets/23a57376-c906-4e86-99a0-b88f67ae05ad)
![image](https://github.com/user-attachments/assets/524ccd08-4f14-4712-b0d5-5a82f6371269)


Я написав програму на мові C, яка генерує послідовність випадкових чисел з плаваючою точкою у двох діапазонах: від 0.0 до 1.0 та від 0.0 до заданого користувачем числа n. Для того, щоб числа були унікальними при кожному запуску, я ініціалізував генератор випадкових чисел через srand(time(NULL))

Завдання по варіантах(17 варіант):

17.Напишіть програму, яка визначає найбільш "параноїдальну" конфігурацію безпеки у вашій системі.

Результат:

![image](https://github.com/user-attachments/assets/3b5aa718-e339-413a-9460-3c694222a6c1)
![image](https://github.com/user-attachments/assets/096cd0dd-110b-459d-a362-140336500aa7)


Моя програма перевіряє права доступу до важливих системних файлів, таких як /etc/passwd, /etc/shadow, /etc/sudoers, та /var/log/auth.log, щоб оцінити конфігурацію безпеки в системі. Вона визначає найбільш "параноїдальну" поведінку, перевіряючи, чи ці файли мають обмежений доступ, що знижує ймовірність несанкціонованого доступу. Наприклад, доступ до файлів, що містять паролі або конфігурації sudo, має бути суворо обмежений тільки для адміністраторів. Якщо права доступу дозволяють іншим користувачам переглядати або змінювати ці файли, це може вказувати на небезпечну конфігурацію безпеки

